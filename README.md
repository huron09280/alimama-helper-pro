# 阿里妈妈多合一助手 (Pro版)

[![Version](https://img.shields.io/badge/version-5.23-blue.svg)](file:///Users/liangchao/Downloads/合美/资料/产品/洗碗机资料/08_工具脚本/小工具/阿里妈妈多合一助手 (Pro版 )/alimama-helper-pro/阿里妈妈多合一助手.js)
[![Platform](https://img.shields.io/badge/platform-Tampermonkey-orange.svg)](https://www.tampermonkey.net/)

这是一个为 **阿里妈妈 (Alimama)** 广告投放平台量身定制的浏览器用户脚本（UserScript）。通过多项自动化计算和 UI 优化功能，帮助广告主更高效地进行数据分析和计划优化。

## 🚀 核心功能

### 1. 实时数据计算

在原生广告报表中直接插入计算结果，无需手动导出：

- **询单成本**: 花费 / 旺旺咨询量。
- **加购成本**: 花费 / 总购物车数。
- **潜客占比**: 引导访问潜客数 / 点击量。
- **花费占比**: 当前项花费占总花费的百分比。
- **预算进度**: 实时显示预算消耗百分比，并配有直观的渐变进度条。支持基础+多目标预算分类显示。

### 2. 交互与自动化

- **全 UI 版本同步**: 确保所有界面和日志均显示最新版本。
- **自动排序**: 可一键开启按花费降序排列表格，支持切换 Tab 或计划时自动重排。
- **弹窗速闭**: 自动识别并拦截页面中烦人的广告或通知弹窗。
- **直连下载**: 劫持网络请求，自动提取报表下载直连，支持点击下载或复制链接。
- **智能护航**: 集成「算法护航」功能，一键调出优化模块，且点击后助手面板自动最小化以腾出空间。

### 3. 品质 UI 体验

- **现代灰色系设计**: 简约而不失专业感的灰色系配色。
- **灵活布局**: 悬浮球入口，面板支持点击外部自动收起，左侧边缘可自由拖拽调整宽度。
- **运行日志**: 详细记录每一次关键操作，支持按日期分组、折叠隐藏及一键清空。

## 🛠️ 安装步骤

1. 安装浏览器扩展 [Tampermonkey](https://www.tampermonkey.net/) (推荐) 或 Greasemonkey。
2. [点击此处](file:///Users/liangchao/Downloads/合美/资料/产品/洗碗机资料/08_工具脚本/小工具/阿里妈妈多合一助手 (Pro版 )/alimama-helper-pro/阿里妈妈多合一助手.js) 运行或将脚本代码复制并新建到扩展中。
3. 刷新阿里妈妈页面（如 `*.alimama.com`），右侧会出现⚡悬浮球。

## 📖 使用指南

- **面板控制**: 点击⚡悬浮球展开控制面板。
- **功能开关**: 面板顶部设有六个主要功能开关，点击即可实时切换显示效果。
- **日志查看**: 底部显示脚本运行状态，点击「隐藏/显示」可切换日志区域。
- **调整宽度**: 鼠标悬停在面板左侧边缘，出现双向箭头后即可拖拽。

## 🏗️ 技术架构

- **核心**: 原生 JavaScript (ES6+)。
- **样式**: Vanilla CSS。
- **性能优化**:
  - 使用 `MutationObserver` 监听 DOM 变化。
  - `requestAnimationFrame` 批量处理日志渲染。
  - `XPath` 快速精准定位关键数值。
  - 列索引缓存机制，减少重复计算。

## 📅 版本历史 (近期)

- **v5.23**: 修复作用域引用错误，实现全 UI 版本同步，优化面板层级与护航集成。
- **v5.15**: 支持多 Tab 切换监听和自动重排序。
- **v5.12**: 新增「花费排序」开关。
- **v4.11**: UI 重构为灰色系主题，支持宽度缩放与侧边拖拽。

---

*注意：本脚本仅用于辅助数据分析，不会收集或上传任何用户个人隐私信息。*
